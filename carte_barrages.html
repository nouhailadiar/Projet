<!DOCTYPE html>

<!--
 // WEBSITE: https://themefisher.com
 // TWITTER: https://twitter.com/themefisher
 // FACEBOOK: https://www.facebook.com/themefisher
 // GITHUB: https://github.com/themefisher/
-->

<html lang="en">
<head>

  <!-- Basic Page Needs
  ================================================== -->
  <meta charset="utf-8">
  <title>géoportail des barrages au Maroc</title>

  <!-- Mobile Specific Metas
  ================================================== -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="One page parallax responsive HTML Template">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name="author" content="Themefisher">
  <meta name="generator" content="Themefisher Bingo HTML Template v1.0">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="images/favicon.jpg" />

  <!-- CSS
  ================================================== -->
  <!-- Themefisher Icon font -->
  <link rel="stylesheet" href="plugins/themefisher-font/style.css">
  <!-- bootstrap.min css -->
  <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
  <!-- Lightbox.min css -->
  <link rel="stylesheet" href="plugins/lightbox2/css/lightbox.min.css">
  <!-- animation css -->
  <link rel="stylesheet" href="plugins/animate/animate.css">
  <!-- Slick Carousel -->
  <link rel="stylesheet" href="plugins/slick/slick.css">
  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="css/style.css">

</head>
<body id="body">

  <!--
  Start Preloader
  ==================================== -->
  <div id="preloader">
    <div class='preloader'>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
  <!--
  End Preloader
  ==================================== -->

<!--
Fixed Navigation
==================================== -->
<header class="navigation fixed-top">
  <div class="container">
    <!-- main nav -->
    <nav class="navbar navbar-expand-lg navbar-light px-0">
      <!-- logo -->
      <a class="navbar-brand logo" href="index.html">
        <img loading="lazy" class="logo-default"  alt="logo" src="images/barrage.png" width=50px height=50px/>
		
        <img loading="lazy" class="logo-white" src="images/barrage.png" alt="logo" width=50px height=50px/>
      </a>
      <!-- /logo -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
        aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navigation">
        <ul class="navbar-nav ml-auto text-center">
           <li class="nav-item dropdown active">
			<a class="nav-link" href="index.html">home</a>
             </a>
            
    
          <li class="nav-item ">
            <a class="nav-link" >About Us</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#!" id="navbarDropdown02" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              cartes <i class="tf-ion-chevron-down"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown02">
              <li><a class="dropdown-item" href="carte_corophlète.html">Taux de reserve des barrages en 2021</a></li>
              <li><a class="dropdown-item" href="carte_proportiennelle.html">reserve des barrages en m^3</a></li>
			  <li><a class="dropdown-item" href="carte_barrages.html">carte des barrages</a></li>
              <li><a class="dropdown-item" href="carte_de_pente.html">Carte de pente</a></li>
		      <li><a class="dropdown-item" href="carte_3D.html">Carte 3D de remplissage des barrages</a></li>
		
              
                
             </li>
	       </ul>
	     </li>
		 <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#!" id="navbarDropdown02" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              Requêtes  <i class="tf-ion-chevron-down"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown02">
              <li><a class="dropdown-item" href="carte_attributaire.html">Requête1</a></li>
              <li><a class="dropdown-item" href="carte_spatiale.html">Requête2</a></li>
              
		
              
                
             </li>
	       </ul>
	     </li>
          
          
          
          
        </ul>
      </div>
    </nav>
    <!-- /main nav -->
  </div>
</header>
<!--
End Fixed Navigation
==================================== -->

<div class="hero-slider">
	<div class="slider-item th-fullpage hero-area" style="background-image: url(images/slider/Barrage_bin_El_ouidane.jpg);">
		<div class="container">
			<div class="row">
				<div class="col-md-12 text-center">
					<h1 data-duration-in=".3" data-animation-in="fadeInUp" data-delay-in=".1">Géoportail des barrages au Maroc </h1>
					<p data-duration-in=".3" data-animation-in="fadeInUp" data-delay-in=".5">.</p>
					
				</div>
			</div>
		</div>
	</div>
	<div class="slider-item th-fullpage hero-area" style="background-image: url(images/slider/barrage-al-massira-top.jpeg);">
		<div class="container">
			<div class="row">
				<div class="col-md-12 text-center">
					<h1 data-duration-in=".3" data-animation-in="fadeInDown" data-delay-in=".1">Géoportail des barrages au Maroc
						</h1>
					<p data-duration-in=".3" data-animation-in="fadeInDown" data-delay-in=".5">barrage Al Massira est située entre Chaouia et Rehamna, sur Oued Oum Er Rabia à 70 km au sud-est de Settat et 100 km au nord-est de Marrakech. 
						</p>
					
				</div>
			</div>
		</div>
	</div>
</div>


	<!-- End header -->

	<!-- Start All Pages -->
	<div class="all-page-title page-breadcrumb">
		<div class="container text-center">
			<div class="row">
				<div class="col-lg-12">
					<h1>Carte des barrages du Maroc </h1>
				</div>
			</div>
		</div>
	</div>
	<!-- End All Pages -->

	<!-- Start blog -->
	<div class="blog-box">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="heading-title text-center">
						<h2> </h2>
						<p> </p>
					</div>
				</div>
			</div>

			<html lang="en">

				<head>
	
					<title>GeoJSON tutorial - Leaflet</title>
				
				
					<link rel="stylesheet" href="leaflet.css" />
					<script src="leaflet.js"></script>
					   <link rel="stylesheet" href=".\dist\MarkerCluster.css" /> 
					   <link rel="stylesheet" href=".\dist\MarkerCluster.Default.css" />
					<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.78.0/dist/L.Control.Locate.min.css" />
					<script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.78.0/dist/L.Control.Locate.min.js" charset="utf-8"></script>
						<script src="leaflet-sidebar.js"></script> 
						<link rel="stylesheet" href="leaflet-sidebar.css" />
					<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
					<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
					<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
					<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
					<style>
						#map {
							width: 1100px;
							height: 700px;
						}
					</style>
				
					
				</head>
				<body>
				<div id="sidebar" class="sidebar collapsed">
					<!-- Nav tabs -->
					<div class="sidebar-tabs">
						<ul role="tablist">
							<li><a href="#search" role="tab"><i class="fa fa-search"></i></a></li> 
							<li><a href="#home" role="tab"><i class="fa fa-bars"></i></a></li>   
								  <li><a href="#download" role="tab"><i class="fa fa-download"></i></a></li>
							   <li><a href="https://github.com/Turbo87/sidebar-v2" role="tab" target="_blank"><i class="fa fa-github"></i></a></li>
						</ul>
							   
				
						<ul role="tablist">
							<li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
						</ul>
					</div>
				
				
					<!-- Tab panes -->
					  <div class="sidebar-content">
						<div class="sidebar-pane" id="search">
							<h1 class="sidebar-header">
								Search
								<span class="sidebar-close"><i class="fa fa-caret-left"></i></span>
							</h1>
							<form action="/action_page.php">
								  <label for="cars">Choose a car:</label>
								  <select id="cars">
				
								  </select>
							</form>
						</div>
						<div class="sidebar-pane" id="download">
							<h1 class="sidebar-header">
								Download
								<span class="sidebar-close"><i class="fa fa-caret-left"></i></span>
							</h1>
							<a href="#" id="export">couche des barrages</a>
						</div>
					</div>
				</div>
				<div id="map" class="sidebar-map"></div>
				
				<div id='map' ></div>
				
				<script src="Barrages.geojson" type="text/javascript"></script>
				<script src="waterroad.geojson" type="text/javascript"></script>
				<script src=".\dist\leaflet.markercluster.js" type="text/javascript"></script>
				
				
				<script>
					var map = L.map('map').setView([ 29.207600, -9.260063], 5);
				
					L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {
						attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
					}).addTo(map);
					var baseMaps = {
							"OpenStreetMap": map,
					};
				
				
					var baseballIcon = L.icon({
						iconUrl: 'barrage.png',
						iconSize: [32, 37],
						iconAnchor: [16, 37],
						popupAnchor: [0, -28]
					});
					  var markers = L.markerClusterGroup();
					
					var Barrage = L.geoJSON(Barrage, {
						onEachFeature: function onEachFeature(feature, layer) {
							const popupContent=
									  '<h4 class = "text-primary">Brrages du Maroc</h4>' +
									  '<div class="container"><table class="table table-striped">' +
									  "<thead><tr><th>Properties</th><th>Value</th></tr></thead>" +
									  "<tbody><tr><td> Nom barrage </td><td>" +
									  layer.feature.properties.nom_barrag +
									  "</td></tr>" +
									  "<tr><td>Nom du oued </td><td>" +
									  layer.feature.properties.nom_oued +
									  "</td></tr>" +
									  "<tr><td> Capacité </td><td>" +
									  layer.feature.properties.capacite_i +
									  "</td></tr>" +
									  "<tr><td> Hauteur </td><td>" +
									  layer.feature.properties.hauteur +
									  "</td></tr>" +
									  "<tr><td> Année </td><td>" +
									  layer.feature.properties.annee_mise +
									  "</td></tr>";
							layer.bindPopup(popupContent);
						},
							pointToLayer: function (Feature, coordinates) {
								  return L.marker(coordinates, {icon: baseballIcon , title:"Barrage"});
							}
					  });
					var oha = markers.addLayer(Barrage);
					  map.addLayer(markers);
					var overlayMaps = {
							"Barrages": oha
					};
					var water = L.geoJSON(water).addTo(map);
					var layerControl = L.control.layers(baseMaps, overlayMaps).addTo(map);
					layerControl.addOverlay(water, "oueds");
					L.control.locate().addTo(map);
					var sidebar = L.control.sidebar('sidebar').addTo(map);
					L.Control.geocoder().addTo(map);
				
				</script>
				<script>
					document.getElementById('export').onclick = function(e){
						if(map.hasLayer(oha)){
							var downloadData =oha.toGeoJSON();
							console.log('Data Converted')
							var dataPath = 'text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(downloadData));
							document.getElementById('export').setAttribute('href','data:'+dataPath);
							document.getElementById('export').setAttribute('download','Barrage du maroc.geojson')          
						}else{
							alert('No layer called barrage')
						}
					}
				</script>
				
				
				
				</body>
				</html>

			

		
<script src="plugins/jquery/jquery.min.js"></script>

<!-- Bootstrap4 -->
<script src="plugins/bootstrap/bootstrap.min.js"></script>
<!-- Parallax -->
<script src="plugins/parallax/jquery.parallax-1.1.3.js"></script>
<!-- lightbox -->
<script src="plugins/lightbox2/js/lightbox.min.js"></script>
<!-- Owl Carousel -->
<script src="plugins/slick/slick.min.js"></script>
<!-- filter -->
<script src="plugins/filterizr/jquery.filterizr.min.js"></script>
<!-- Smooth Scroll js -->
<script src="plugins/smooth-scroll/smooth-scroll.min.js"></script>
<!-- Google Map -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcABaamniA6OL5YvYSpB3pFMNrXwXnLwU"></script>
<script src="plugins/google-map/gmap.js"></script>

<!-- Custom js -->
<script src="js/script.js"></script>

</body>

</html>